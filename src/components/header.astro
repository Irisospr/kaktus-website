<header class="site-header" data-header>
  <div class="header-inner">
    <a class="logo" href="/">
      <img src="/photos/logoid.webp" alt="Kaktus Grøn Frisør" />
    </a>

    <!-- Desktop nav -->
    <nav class="nav desktop-nav" aria-label="Hovedmenu">
      <a href="/behandlinger">BEHANDLINGER</a>
      <a href="/omos">OM OS</a>
      <a href="/kontakt">KONTAKT</a>
      <a href="/webshop">WEBSHOP</a>
    </nav>

    <!-- Desktop button -->
    <a
      class="btn-book desktop-cta"
      href="https://kaktus.planway.com/"
      target="_blank"
      rel="noopener"
    >
      BOOK TID
    </a>

    <!-- Mobile burger -->
    <button
      class="burger"
      type="button"
      aria-label="Åbn menu"
      aria-expanded="false"
      aria-controls="mobileMenu"
      data-burger
    >
      <span class="burger-lines" aria-hidden="true"></span>
    </button>
  </div>

  <!-- Mobile dropdown panel -->
  <div class="mobile-panel" id="mobileMenu" hidden data-mobile>
    <nav class="mobile-nav" aria-label="Mobilmenu">
      <a href="/behandlinger">BEHANDLINGER</a>
      <a href="/omos">OM OS</a>
      <a href="/kontakt">KONTAKT</a>
      <a href="/webshop">WEBSHOP</a>

      <a
        class="btn-book mobile-cta"
        href="https://kaktus.planway.com/"
        target="_blank"
        rel="noopener"
      >
        BOOK TID
      </a>
    </nav>
  </div>
</header>

<script is:inline>
  (() => {
    const header = document.querySelector("[data-header]");
    if (!header) return;

    const btn = header.querySelector("[data-burger]");
    const panel = header.querySelector("[data-mobile]");
    if (!btn || !panel) return;

    const openMenu = () => {
      btn.setAttribute("aria-expanded", "true");
      btn.setAttribute("aria-label", "Luk menu");
      panel.hidden = false;
      header.classList.add("is-open");
    };

    const closeMenu = () => {
      btn.setAttribute("aria-expanded", "false");
      btn.setAttribute("aria-label", "Åbn menu");
      panel.hidden = true;
      header.classList.remove("is-open");
    };

    btn.addEventListener("click", () => {
      const isOpen = btn.getAttribute("aria-expanded") === "true";
      isOpen ? closeMenu() : openMenu();
    });

    // Close when you click a link
    panel.querySelectorAll("a").forEach((a) => {
      a.addEventListener("click", closeMenu);
    });

    // Close on ESC
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") closeMenu();
    });

    // If resizing to desktop, force close
    const mq = window.matchMedia("(min-width: 901px)");
    mq.addEventListener("change", () => {
      if (mq.matches) closeMenu();
    });
  })();
</script>

<style>
  .site-header{
    background: #FBF4EC;
    border-bottom: 1px solid rgba(0,0,0,0.12);
  }

  .header-inner{
    width: min(1200px, 92vw);
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 18px 0;
    position: relative;
  }

  .logo img{
    width: 110px;
    height: auto;
    display: block;
  }

  /* Desktop nav */
  .desktop-nav{
    display: flex;
    gap: 28px;
    align-items: center;
  }

  .desktop-nav a{
    text-decoration: none;
    color: #111;
    letter-spacing: 0.06em;
    font-size: 14px;
  }

  /* Your existing button styles can stay global */
  .desktop-cta{ display: inline-flex; }

  /* Burger button */
  .burger{
    display: none;
    background: none;
    border: 0;
    padding: 10px;
    cursor: pointer;
  }

  .burger-lines{
    width: 34px;
    height: 22px;
    position: relative;
    display: block;
  }

  .burger-lines::before,
  .burger-lines::after,
  .burger-lines{
    background: transparent;
  }

  .burger-lines::before,
  .burger-lines::after{
    content: "";
    position: absolute;
    left: 0;
    width: 34px;
    height: 4px;
    background: #8FD2C9;
    border-radius: 999px;
    transition: transform 200ms ease, top 200ms ease, opacity 200ms ease;
  }

  .burger-lines::before{ top: 0; }
  .burger-lines::after{ top: 9px; }

  /* Third line */
  .burger-lines{
    --line3-top: 18px;
  }
  .burger-lines{
    background: linear-gradient(#8FD2C9,#8FD2C9) left var(--line3-top) / 34px 4px no-repeat;
    transition: background 200ms ease;
  }

  /* Mobile dropdown panel */
  .mobile-panel{
    background: #D6C0B3;
    border-top: 1px solid rgba(0,0,0,0.12);
  }

  .mobile-nav{
    width: min(1200px, 92vw);
    margin: 0 auto;
    padding: 26px 0 30px;
    display: grid;
    justify-items: center;
    gap: 18px;
  }

  .mobile-nav a{
    text-decoration: none;
    color: #111;
    letter-spacing: 0.06em;
    font-size: 22px;
  }

  .mobile-cta{
    margin-top: 10px;
  }

  /* OPEN STATE: burger becomes X */
  .site-header.is-open .burger-lines{
    background: none; /* hide 3rd line */
  }
  .site-header.is-open .burger-lines::before{
    top: 9px;
    transform: rotate(45deg);
  }
  .site-header.is-open .burger-lines::after{
    top: 9px;
    transform: rotate(-45deg);
  }

  /* Responsive */
  @media (max-width: 900px){
    .desktop-nav,
    .desktop-cta{
      display: none;
    }
    .burger{
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    .logo img{
      width: 120px; /* closer to your screenshot */
    }
  }
</style>
